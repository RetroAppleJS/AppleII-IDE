<script>
var b64="LFj/cBs4kBi4UBUBIPT09PQAs8SbpMCK3bxI8FPh5uwIeI34B0iYSIpIIFj/ur0AAaoICgoKCiiorfgHjvgHSKkIcGeQTbBVKQEJ8J04BqkC0EApDwmQ0DX//7mDwCn7mYPAqT6ZgsC5g8AJBJmDwLmCwCnBHbgFmYLAaPAKapB1aKpoqGgoYBhgKQEJYJ04BqkOnbgFqQFI0MCpDJ24BakC0PSpMJ04BqkGnbgFqQBI8KjJELDSnTgHkOqpBNDrqUDQyqQGqWCFBiAGAIQGur0AAaoKCgoKqKkg0MmpcNDFSKmg0KgpDwmw0LqpwNC2qQLQt6IDOGD////W////AZhIpQZIpQdIhgepJ4UGIFj8oACxBvAGIO39yND2aIUHaIUGaKjQW8Hw8Ozlze/18+WNw+/w+fLp5+j0oLG5uLOg4vmgwfDw7OWgw+/t8PX05fKsoMnu466NjcLh4+jt4e6vzeHy6/OvzeHjy+H5jQC5gsAp8R24BZmCwGgwDPCA0AmpAJ24BUjw5mC9OAcpDwkgnTgHikhISEipqki9OAZIqQyduAWpAEjwxamzSK14BBiQ7Km8SK34BBiQ46mBSH44BpAFrXgFsNaKSKnYSKkMnbgFqQFI0Je9OAaNeAVg/////////////////////////////////////////8K9OAcpDwlAnTgHikhISKkR0CepHkipDJ24BakBSNBRrbP7yQbQIa0ZwDD7rRnAEPutGcAw+6l/0ABIqVBIqQyduAWpAEjwKaUGSKUHSJhIqSCFB6AAhAapAJEGyND75gelB8lA0PFoqKUISKkA8Bz/uYLAKfEduAWZgsBoMArwgKkAnbgFSPDoYNCuqQGN0D+N4D+tV8CtVMCtUsCtUMDqhQaFB4UI5gbQDuYH0AzmCKUIyQGQCrAfCCgIKKkApQCt/8+5gsBK6uqw263/z7mCwEqlAOqwz2iFCGiFB2iFBqnj0KWtUcCtVsAYkJP////////////////////////BvTgGySDQBql/aQFwAbi5gsAw+7mBwCn7mYHAqf+ZgMC5gcAJBJmBwL04BpmAwLmCwAkgmYLAuYLAEPsp35mCwHBEvTgGyTDQNakAnbgEnbgDnTgFnTgE8CX//////////////////////////////7mCwCnxHbgFmYLAaPCCqQCduAVI8Oq5gcAp+5mBwKkAmYDAuYHACQSZgcC5gsAKEPq5gMCdOAa5gsAJEJmCwLmCwAow+rmCwCnvmYLAvbgGKfEdOAaduAYpDtCyqQCduAWpAkjQmv//////////////////////////////////////////////////////w+Q30C2pB8U28CeFNmjJjfB0KQEJgJ04B4pIqYRIvTgHSqmAsAEKSKkMnbgFqQBI8D/kOdDXqQWFOL04BykB0BRoaGhoqQCduAOduASdOASdOAXwPL04BykBCYCdOAeKSKmhSKkQSKkM0DD///////+5gsAp8R24BZmCwGgwEfCAarCJkLSpAJ24BakBSNDhYKnAnbgGjCICqQqduAWpAEjwzmhoaGipBZ04BrmBwCn7mYHAqQCZgMC5gcAJBJmBwLmCwAoQ+rmAwEi5gsAJEJmCwLmCwAow+rmCwCnvmYLA3jgG0NtonbgGaJ04BWidOARonbgEaJ24AxiQmf///8iKSEhIqRJIvLgDvbgEqpigBdBtrvgHqSRIvDgEvTgFqpigDNBbrvgHqUNIrQDACgi9uAYqKiopA0kDOGkAKKIAoBDQTamNjRECSKkRSEipAPAS////////////////////////rvgHrCICnbgFqQFIuYLAKfEduAWZgsBoME7wgOCAkA1J/2kASIpJ/2kAqmg4jSECjiACqauQAqmtSKmsmQECohGpABgqyQqQAukKLiECLiACytDwCbCZAAKI8AjAB/AEwA7Q22iZAAJg///////////////////////////////////////////////////////////////////NuFATvTgHKQHwR6kQSKkFnTgGqX9pAbmCwDD7uYHAKfuZgcCp/5mAwLmBwAkEmYHAaJmAwLmCwAkgmYLAuYLAEPsp35mCwHA/cAe9OAdKSkpKuJ24BfACqYBIUBT//////////////////////////7mCwCnxHbgFmYLAaPCCyQLwgdAC8MK4uYHAKfuZgcCpAJmAwLmBwAkEmYHAuYLAChD6uYDAcAWdOAZQAUi5gsAJEJmCwLmCwAow+rmCwCnvmYLAUBneOAbQ0miduAZonTgFaJ04BGiduARonbgDqQDwov//////////////////////////////////////wb04BslA8CLJYPANyWHwCcmg0C5IqQLQRa34BUiteAVIrfgESK14BLAPvTgFSL04BEi9uARIvbgDSL04BkipBdAcKQxKSkqwPkqQDK14BUi9OAZIqQLQBr04BkipAZ04BtBP//////////////////+5gsAp8R24BZmCwGjQgqkAnbgFSPDqSrATrfgESK14BEi9OAZIqQOdOAbQFa14BUit+ARIrXgESL04BkipBJ04BrmCwDD7uYHAKfuZgcCp/5mAwLmBwAkEmYHAaJmAwLmCwAkgmYLAuYLAEPsp35mCwN44BvCYuYLAMPsQ1v///////////////////////84="
function export_apple(b64)
    {
       if(b64.charCodeAt(1)==32) { alert("First paste a Base64 string into the text area"); return} 
       var org_adr = parseInt(document.getElementById("hexadr").value,16);
       var bin = _base64ToArray(b64);
       var adr = org_adr;
      
       document.getElementById("hexcode").value = "CALL-151\n"
       for(var i=0;i<bin.length;i+=16)
       {
        document.getElementById("hexcode").value += getHexWord(adr)+": ";
        for(var j=0;j<16;j++) document.getElementById("hexcode").value += getHexByte(bin[i+j])+" ";
        adr += 16;
        document.getElementById("hexcode").value += "\n"
       }
       document.getElementById("hexcode").value += String.fromCharCode(2)+"\n"
       document.getElementById("hexcode").value += "BSAVE MOUSE.BIN,A$"+org_adr+",L$"+getHexWord(bin.length)+"\n"

    }

    function _base64ToArray(base64)
    {
        var binary_string = window.atob(base64);
        var len = binary_string.length;
        var bytes = new Uint8Array(len);
        for (var i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    }  
    
    var hextab= ['0','1','2','3','4','5','6','7','8','9','A','B','C','D','E','F'];
    var getHexByte    = function(v) { return hextab[v>>4]+hextab[v&0xf] }
    var getHexWord    = function(v) { return ''+hextab[Math.floor(v/0x1000)]+hextab[Math.floor((v&0x0f00)/256)]+hextab[Math.floor((v&0xf0)/16)]+hextab[v&0x000f] }

</script>
<body onload="export_apple(b64)">
<input id="hexadr" value="6000">
<textarea id="hexcode" style="width:500px;height:100px"></textarea>
</body>