<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel='stylesheet' href='../../res/kb_new.css'>
<style>
@import url(http://fonts.googleapis.com/css?family=Fragment+Mono);
#keyboard .keycap .keylabel, #glyphScroller .keylabel { font-family: 'Fragment Mono'; font-weight: 400; }
#keyboard .keycap .slightup, #glyphScroller .slightup { font-weight: 600; position: relative; top: -5px; }
#keyboard .keycap .altfont, #glyphScroller .altfont { font-family: 'Arial'; position: relative; top: -3px; }
</style>
<script type="text/javascript" src='../../res/COM_MAIN.js'></script>

<div id="glyphScroller" style="float:left;border:1px solid"><div id="keyboard" tabindex="0" ui-keydown="{ left:'moveKeys(-moveStep,0,$event)',
     right:'moveKeys(moveStep,0,$event)',
     up:'moveKeys(0,-moveStep,$event)',
     down:'moveKeys(0,moveStep,$event)',
     'shift-left':'sizeKeys(-sizeStep,0,$event)',
     'shift-right':'sizeKeys(sizeStep,0,$event)',
     'shift-up':'sizeKeys(0,-sizeStep,$event)',
     'shift-down':'sizeKeys(0,sizeStep,$event)',
     'pageup':'rotateKeys(-rotateStep,$event)',
     'pagedown':'rotateKeys(rotateStep,$event)',
     'ctrl-left':'moveCenterKeys(-moveStep,0,$event)',
     'ctrl-right':'moveCenterKeys(moveStep,0,$event)',
     'ctrl-up':'moveCenterKeys(0,-moveStep,$event)',
     'ctrl-down':'moveCenterKeys(0,moveStep,$event)',
     delete:'deleteKeys()',
     insert:'addKey()',
     74: 'prevKey($event)',
     75: 'nextKey($event)',
     'shift-74': 'prevKey($event)',
     'shift-75': 'nextKey($event)',
     113: 'focusEditor()',
     esc: 'unselectAll()',
     'ctrl-65': 'selectAll($event)',
     'ctrl-67 ctrl-45': 'copy($event)',
     'ctrl-88 shift-46': 'cut($event)',
     'ctrl-86 shift-45': 'paste($event)',
     'ctrl-90' : 'undo()',
     'ctrl-shift-90' : 'redo()',
     'ctrl-89' : 'redo()' }"  class="ng-binding">

 <div id="keyboard-bg" style="height:270px; width:729px; background-color:#F7EBD1;border-radius:6px 6px 12px 12px / 18px 18px 12px 12px; ">
  
<!-- ngRepeat: key in keys() --><div class="key SA R1" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:27px;top:0px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:33px;top:4px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:33px;top:4px;width:42px;height:42px; padding: 3px;" class="keylabels">   <div class="keylabel keylabel1 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">!</div> </div>     <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">1</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R1" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:81px;top:0px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:87px;top:4px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:87px;top:4px;width:42px;height:42px; padding: 3px;" class="keylabels">   <div class="keylabel keylabel1 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">"</div> </div>     <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">2</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R1" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:135px;top:0px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:141px;top:4px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:141px;top:4px;width:42px;height:42px; padding: 3px;" class="keylabels">   <div class="keylabel keylabel1 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">#</div> </div>     <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">3</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R1" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:189px;top:0px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:195px;top:4px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:195px;top:4px;width:42px;height:42px; padding: 3px;" class="keylabels">   <div class="keylabel keylabel1 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">$</div> </div>     <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">4</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R1" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:243px;top:0px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:249px;top:4px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:249px;top:4px;width:42px;height:42px; padding: 3px;" class="keylabels">   <div class="keylabel keylabel1 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">%</div> </div>     <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">5</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R1" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:297px;top:0px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:303px;top:4px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:303px;top:4px;width:42px;height:42px; padding: 3px;" class="keylabels">   <div class="keylabel keylabel1 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">&amp;</div> </div>     <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">6</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R1" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:351px;top:0px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:357px;top:4px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:357px;top:4px;width:42px;height:42px; padding: 3px;" class="keylabels">   <div class="keylabel keylabel1 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">'</div> </div>     <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">7</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R1" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:405px;top:0px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:411px;top:4px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:411px;top:4px;width:42px;height:42px; padding: 3px;" class="keylabels">   <div class="keylabel keylabel1 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">(</div> </div>     <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">8</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R1" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:459px;top:0px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:465px;top:4px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:465px;top:4px;width:42px;height:42px; padding: 3px;" class="keylabels">   <div class="keylabel keylabel1 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">)</div> </div>     <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">9</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R1" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:513px;top:0px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:519px;top:4px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:519px;top:4px;width:42px;height:42px; padding: 3px;" class="keylabels">      <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">0</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R1" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:567px;top:0px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:573px;top:4px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:573px;top:4px;width:42px;height:42px; padding: 3px;" class="keylabels">   <div class="keylabel keylabel1 textsize7" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">*</div> </div>     <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">:</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R1" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:621px;top:0px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:627px;top:4px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:627px;top:4px;width:42px;height:42px; padding: 3px;" class="keylabels">   <div class="keylabel keylabel1 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">=</div> </div>     <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">-</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R1" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:675px;top:0px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:681px;top:4px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:681px;top:4px;width:42px;height:42px; padding: 3px;" class="keylabels">    <div class="keylabel keylabel4 textsize2" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">RESET</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R2" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:0px;top:54px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:6px;top:58px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:6px;top:58px;width:42px;height:42px; padding: 3px;" class="keylabels">    <div class="keylabel keylabel4 textsize2" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">ESC</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R2" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:54px;top:54px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:60px;top:58px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:60px;top:58px;width:42px;height:42px; padding: 3px;" class="keylabels">      <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">Q</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R2" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:108px;top:54px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:114px;top:58px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:114px;top:58px;width:42px;height:42px; padding: 3px;" class="keylabels">      <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">W</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R2" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:162px;top:54px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:168px;top:58px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:168px;top:58px;width:42px;height:42px; padding: 3px;" class="keylabels">      <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">E</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R2" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:216px;top:54px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:222px;top:58px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:222px;top:58px;width:42px;height:42px; padding: 3px;" class="keylabels">      <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">R</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R2" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:270px;top:54px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:276px;top:58px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:276px;top:58px;width:42px;height:42px; padding: 3px;" class="keylabels">      <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">T</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R2" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:324px;top:54px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:330px;top:58px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:330px;top:58px;width:42px;height:42px; padding: 3px;" class="keylabels">      <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">Y</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R2" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:378px;top:54px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:384px;top:58px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:384px;top:58px;width:42px;height:42px; padding: 3px;" class="keylabels">      <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">U</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R2" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:432px;top:54px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:438px;top:58px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:438px;top:58px;width:42px;height:42px; padding: 3px;" class="keylabels">      <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">I</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R2" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:486px;top:54px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:492px;top:58px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:492px;top:58px;width:42px;height:42px; padding: 3px;" class="keylabels">      <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">O</div> </div> </div> </div></div>

<!-- end ngRepeat: key in keys() --><div class="key SA R2" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:540px;top:54px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:546px;top:58px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:546px;top:58px;width:42px;height:42px; padding: 3px;" class="keylabels">   <div class="keylabel keylabel1 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">@</div> </div>     <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">P</div> </div> </div> </div></div>

<!-- end ngRepeat: key in keys() --><div class="key SA R2" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:594px;top:54px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:600px;top:58px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:600px;top:58px;width:42px;height:42px; padding: 3px;" class="keylabels">    <div class="keylabel keylabel4 textsize2" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">REPT</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R2" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:648px;top:54px;width:81px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:654px;top:58px;width:69px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:654px;top:58px;width:69px;height:42px; padding: 3px;" class="keylabels">    <div class="keylabel keylabel4 textsize2" style="color:#fffffe; width:63px; height:36px;"> <div style="width:63px; max-width:63px; height:36px;">RETURN</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R3" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:13.5px;top:108px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:19.5px;top:112px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:19.5px;top:112px;width:42px;height:42px; padding: 3px;" class="keylabels">    <div class="keylabel keylabel4 textsize2" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">CTRL</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R3" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:67.5px;top:108px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:73.5px;top:112px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:73.5px;top:112px;width:42px;height:42px; padding: 3px;" class="keylabels">      <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">A</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R3" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:121.5px;top:108px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:127.5px;top:112px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:127.5px;top:112px;width:42px;height:42px; padding: 3px;" class="keylabels">      <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">S</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R3" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:175.5px;top:108px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:181.5px;top:112px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:181.5px;top:112px;width:42px;height:42px; padding: 3px;" class="keylabels">      <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">D</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R3" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:229.5px;top:108px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:235.5px;top:112px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:235.5px;top:112px;width:42px;height:42px; padding: 3px;" class="keylabels">      <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">F</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R3" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:283.5px;top:108px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:289.5px;top:112px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:289.5px;top:112px;width:42px;height:42px; padding: 3px;" class="keylabels">    <div class="keylabel keylabel4 textsize2" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;"><div class="slightup">BELL</div></div> </div>    <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">G</div> </div>   </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R3" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:337.5px;top:108px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:343.5px;top:112px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:343.5px;top:112px;width:42px;height:42px; padding: 3px;" class="keylabels">      <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">H</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R3" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:391.5px;top:108px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:397.5px;top:112px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:397.5px;top:112px;width:42px;height:42px; padding: 3px;" class="keylabels">      <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">J</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R3" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:445.5px;top:108px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:451.5px;top:112px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:451.5px;top:112px;width:42px;height:42px; padding: 3px;" class="keylabels">      <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">K</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R3" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:499.5px;top:108px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:505.5px;top:112px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:505.5px;top:112px;width:42px;height:42px; padding: 3px;" class="keylabels">      <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">L</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R3" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:553.5px;top:108px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:559.5px;top:112px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:559.5px;top:112px;width:42px;height:42px; padding: 3px;" class="keylabels">   <div class="keylabel keylabel1 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">+</div> </div>     <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">;</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R3" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:607.5px;top:108px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:613.5px;top:112px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:613.5px;top:112px;width:42px;height:42px; padding: 3px;" class="keylabels">    <div class="keylabel keylabel4 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;"><div class="altfont">←</div></div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R3" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:661.5px;top:108px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:667.5px;top:112px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:667.5px;top:112px;width:42px;height:42px; padding: 3px;" class="keylabels">    <div class="keylabel keylabel4 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;"><div class="altfont">→</div></div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R4" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:13.5px;top:162px;width:81px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:19.5px;top:166px;width:69px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:19.5px;top:166px;width:69px;height:42px; padding: 3px;" class="keylabels">    <div class="keylabel keylabel4 textsize2" style="color:#fffffe; width:63px; height:36px;"> <div style="width:63px; max-width:63px; height:36px;">SHIFT</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R4" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:94.5px;top:162px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:100.5px;top:166px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:100.5px;top:166px;width:42px;height:42px; padding: 3px;" class="keylabels">      <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">Z</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R4" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:148.5px;top:162px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:154.5px;top:166px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:154.5px;top:166px;width:42px;height:42px; padding: 3px;" class="keylabels">      <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">X</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R4" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:202.5px;top:162px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:208.5px;top:166px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:208.5px;top:166px;width:42px;height:42px; padding: 3px;" class="keylabels">      <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">C</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R4" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:256.5px;top:162px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:262.5px;top:166px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:262.5px;top:166px;width:42px;height:42px; padding: 3px;" class="keylabels">      <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">V</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R4" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:310.5px;top:162px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:316.5px;top:166px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:316.5px;top:166px;width:42px;height:42px; padding: 3px;" class="keylabels">      <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">B</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R4" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:364.5px;top:162px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:370.5px;top:166px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:370.5px;top:166px;width:42px;height:42px; padding: 3px;" class="keylabels">   <div class="keylabel keylabel1 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">^</div> </div>     <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">N</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R4" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:418.5px;top:162px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:424.5px;top:166px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:424.5px;top:166px;width:42px;height:42px; padding: 3px;" class="keylabels">      <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">M</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R4" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:472.5px;top:162px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:478.5px;top:166px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:478.5px;top:166px;width:42px;height:42px; padding: 3px;" class="keylabels">   <div class="keylabel keylabel1 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">&lt;</div> </div>     <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">,</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R4" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:526.5px;top:162px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:532.5px;top:166px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:532.5px;top:166px;width:42px;height:42px; padding: 3px;" class="keylabels">   <div class="keylabel keylabel1 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">&gt;</div> </div>     <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">.</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R4" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:580.5px;top:162px;width:54px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:586.5px;top:166px;width:42px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:586.5px;top:166px;width:42px;height:42px; padding: 3px;" class="keylabels">   <div class="keylabel keylabel1 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">?</div> </div>     <div class="keylabel keylabel7 textsize6" style="color:#fffffe; width:36px; height:36px;"> <div style="width:36px; max-width:36px; height:36px;">/</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA R4" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:634.5px;top:162px;width:81px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:640.5px;top:166px;width:69px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:640.5px;top:166px;width:69px;height:42px; padding: 3px;" class="keylabels">    <div class="keylabel keylabel4 textsize2" style="color:#fffffe; width:63px; height:36px;"> <div style="width:63px; max-width:63px; height:36px;">SHIFT</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key CHICKLET" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:16.5px;top:219px;width:48px;height:48px;border-width:1px;border-radius:4px;background-color:#ffffff;" class="keyborder"></div> <div style="left:17.5px;top:220px;width:46px;height:44px;border:solid 1px rgba(0,0,0,0.1);background-color:#fffffe;border-radius:4px;" class="keytop"></div> <div style="left:17.5px;top:220px;width:46px;height:44px; padding: 4px;" class="keylabels">    <div class="keylabel keylabel4 textsize2" style="color:#080808; width:38px; height:36px;"> <div style="width:38px; max-width:38px; height:36px;">POWER</div> </div> </div> </div></div>
<!-- end ngRepeat: key in keys() --><div class="key SA SPACE" > <div class="keycap" onmouseover=keycap_over(this) onmouseout=keycap_out(this) onclick=keycap_click(this)> <div style="left:148.5px;top:216px;width:432px;height:54px;border-width:1px;border-radius:5px;background-color:#8B7B65;" class="keyborder"></div> <div style="left:154.5px;top:220px;width:420px;height:42px;border:solid 1px rgba(0,0,0,0.1);background-color:#a89780;border-radius:5px;" class="keytop"></div> <div style="left:154.5px;top:220px;width:420px;height:42px; padding: 3px;" class="keylabels">   </div> </div></div>
<!-- end ngRepeat: key in keys() -->
 </div>
 </div>
</div>


  <script>

var oEMU =
{"component":
   {"Keyboard":new A2Pkeys()}
}

function A2Pkeys()
{
   this.keymap = {}
   this.draft_map = {}
}

String.prototype.toHtmlEntities = function() {
    return this.replace(/./gm, function(s) {
        // return "&#" + s.charCodeAt(0) + ";";
        return (s.match(/[a-z0-9\s]+/i)) ? s : "&#" + s.charCodeAt(0) + ";";
    });
};

String.fromHtmlEntities = function(string) {
    return (string+"").replace(/&#\d+;/gm,function(s) {
        return String.fromCharCode(s.match(/\d+/gm)[0]);
    })
};

function stripHTML(str) { return str.replace(/(&nbsp;|<([^>]+)>)/ig,"") }
function keycap_over(t) { t.classList.replace("keycap","selected") }
function keycap_out(t) { t.classList.replace("selected","keycap") }
function keycap_click(t)
{
   console.log("");
   const matches = t.innerHTML.matchAll(/keylabel (keylabel[0-9]{1,2})/gm);
   var msg = "";
   for(const match of matches)
   {
      var el = t.getElementsByClassName(match[1]);
      var child = el[0].firstElementChild.innerHTML;
        var log = [match[1],stripHTML(child),child];
      console.log(log[0]+" "+log[1],log[2]);
      msg += log[1];
      //oCOM.POPUP.html(log[0]+" "+log[1]);
   }

   var hash16 = oCOM.getHexMulti(oCOM.crc16(oCOM.toASCIIarr(msg)),4);


   t.id = hash16;

   document.getElementById("source").innerHTML = document.getElementById("glyphScroller").innerHTML
                                                                                    .replace(/</g,"&lt;")
                                                                                    .replace(/>/g,"&gt;")
                                                                                    .replace(/"/g,"\\\"")
                                                                                    .replace(/\n/g,"\"\n\code +=\"")

   add_mapping(hash16, msg.toHtmlEntities().replace(/&#38;amp&#59;/g,"&") );
   //console.log(oCOM.getHexMulti(d,4));

}

function add_mapping(hash,button)
{
   if(oEMU.component.Keyboard.draft_map[hash]==true) return;
   oEMU.component.Keyboard.draft_map[hash] = true;

   var bDirectVal = button.length==1;
   var el = document.getElementById("mapping");
   var s = "<div id='d"+hash+"' style='border:1px solid;background-color:"+(bDirectVal?"#D0FFD0":"#E0E0E0")+";width:100%'>"+hash
          +"<input id='i"+hash+"' value='"+button+"' style='width:70px' onkeyup=map('"+hash+"',this)>"
          +"<button>fn</button>"
          +"</div>"
   el.innerHTML += s;

   if(bDirectVal)
   {
      map(hash,{"value":button})
      //map(hash,button)
   }
}

function map(hash,key)
{
   var ia = isAssoc(oEMU.component.Keyboard.keymap,hash);

   if(ia) delete oEMU.component.Keyboard.keymap[ia]
   if(key.value.length==1)
   {
      //oEMU.component.Keyboard.keymap[key.value] = hash;

      oEMU.component.Keyboard.keymap[hash] = {"val":key.value};
      elp = document.getElementById("d"+hash);
      elp.style.backgroundColor = "#D0FFD0"
   }

   var el = document.getElementById("debug");


   //el.innerHTML = JSON.stringify(oEMU.component.Keyboard.keymap).replace(/","/g,'"<br>,"');
   el.innerHTML = "<textarea style='height:100%;width:250px'>"+JSON.stringify(oEMU.component.Keyboard.keymap).replace(/","/g,'"\n,"')+"</textarea>";
}

function isAssoc(av,val)
{
   for(var ia in av)
      if(av[ia] == val) return ia;
   return false;
}


function traverseDOM(root_elementId, depth = 0)
{
   // Find the starting element by ID
   const startElement = document.getElementById(root_elementId);
   if (!startElement) {
      console.error(`Element with ID "${elementId}" not found.`);
      return;
   }

   // Recursive function to traverse the DOM
   function traverse(node, currentDepth)
   {
      // Log the current node and its depth

      var att = node.attributes;
      var kvp = {}; // key-value pair
      for(var i=0;i<att.length;i++)
         kvp[att[i].name] = att[i].value;

      if(m_match(kvp))
      {

         //var txt = getDeepestNodeContent(node)

         keycap_click(node)

      }
      // Recursively traverse child nodes
      node.childNodes.forEach(child => {
         if (child.nodeType === Node.ELEMENT_NODE) { // Check for element nodes
               traverse(child, currentDepth + 1);
         }
      });
   }

   // Start traversal
   traverse(startElement, depth);
}

function getDeepestNodeContent(node) 
{
    if (!node || !(node instanceof HTMLElement)) {
        throw new Error("Invalid or null HTML element provided.");
    }

    let current = node;
    while (current.firstElementChild) {
        current = current.firstElementChild;
    }

    return current.textContent || current.innerText || ""; // Return the content of the deepest node
}


var m_match = function(kvp)
{ 
   return kvp.class == 'keylabels' 
}

  </script>

<div id=mapping style="width:130px;float:left;border:1px solid;font-family: monospace;">
</div>

<textarea id=source style="width:130px;float:left;border:1px solid;font-family: monospace;"></textarea>


<div id=debug></div>

<div class=appbut id=COM_popup style="position: absolute; z-index: 3; left: 0px; top: 120px; " hidden="">
   <div class="appbut" onclick="oCOM.POPUP.toggle('COM_popup');document.getElementById('COM_popup_text').innerHTML=''" style="text-align:center;float:right;">x</div>
   <div id=COM_popup_text></div>
 </div>

 <button onclick="traverseDOM('glyphScroller',m_match)">DISCOVER</button>