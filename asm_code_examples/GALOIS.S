*=$6000

; Generate logTable and expTable for GF(256) over $11B
; For consistency, both logarithm and exponent of zero are taken as zeroes; really this is 0 == a^(-inf).
; The real tables begin with entry 1 == a^0, both at index 1.

TMP =  $50

GF_INI  LDA #$00
        STA LOGTAB      ; STZ logTable
        STA EXPTAB      ; STZ expTable
        LDA #1
        TAX
  
LOOP    TAY             ; store matching pair of entries
        STA EXPTAB,X
        STA *TMP
        TXA
        STA LOGTAB,Y
        LDA *TMP
        ASL A           ; calculate next exponent
        BCC L1
        EOR #$1B        ; and the next index
L1      INX
        BNE LOOP
        CMP #1          ; A should now contain 1 again
        BEQ L2
        BRK             ; oops
L2      RTS

LOGTAB  HEX 00000000000000000000000000000000
        HEX 00000000000000000000000000000000
        HEX 00000000000000000000000000000000
        HEX 00000000000000000000000000000000
        HEX 00000000000000000000000000000000
        HEX 00000000000000000000000000000000
        HEX 00000000000000000000000000000000
        HEX 00000000000000000000000000000000
        HEX 00000000000000000000000000000000
        HEX 00000000000000000000000000000000
        HEX 00000000000000000000000000000000
        HEX 00000000000000000000000000000000
        HEX 00000000000000000000000000000000
        HEX 00000000000000000000000000000000
        HEX 00000000000000000000000000000000
        HEX 00000000000000000000000000000000

EXPTAB  HEX 00000000000000000000000000000000
        HEX 00000000000000000000000000000000
        HEX 00000000000000000000000000000000
        HEX 00000000000000000000000000000000
        HEX 00000000000000000000000000000000
        HEX 00000000000000000000000000000000
        HEX 00000000000000000000000000000000
        HEX 00000000000000000000000000000000
        HEX 00000000000000000000000000000000
        HEX 00000000000000000000000000000000
        HEX 00000000000000000000000000000000
        HEX 00000000000000000000000000000000
        HEX 00000000000000000000000000000000
        HEX 00000000000000000000000000000000
        HEX 00000000000000000000000000000000
        HEX 00000000000000000000000000000000 