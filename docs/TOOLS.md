## TOOLS Explained

In the [tools folder](https://github.com/RetroAppleJS/AppleII-IDE/tree/main/tools), we keep a collection of helpers to simulate, better understand or automate processes supporting the development of the IDE.  Every tool is designed to run in the browser, just like the IDE, using HTML/CSS/JavaScript.

### DOCS_updater.html

We aim to have all the documentation available in markdown format, for easy online access and editing in GitHub.  Docs_updater.html was designed to read all the markdown documentation available online in this project, and compile a JavaScript include file that would provide a perfect copy of all the available documentation inside the IDE.  The following diagram shows how clearly the steps:  
* Fetch Readme.me file from GitHub
* extract all \*.md file links located in /docs
* fetch all listed .md files
* convert each to HTML and append to JavaScript file
* preview
* download the JavaScript file
* overwite file in /docs folder.


        <div style=width:800px>
        ┌──────────┐          ┌────┐ ┌───────────┐       ┌──────────────────┐
        │Readme.md │          │*.md│ │Showdown.js│       │ COM_markdown.css │
        └────┬─────┘          └─┬──┘ └─────┬─────┘       └────────┬─────────┘
             │XmlHttp()         |XmlHttp() │include               |include
        ┌────┴─────────┐     ┌──┴──────────┴─────┐       ┌────────┴─────────┐     ┌────────────────────┐
        │Extract *.md  │     │Read next .md file,│       | Preview/test HTML|     | Download JS file   |
        │links located ├─────┤convert to HTML &  ├───┐───┤ generated by     ├─────┤ _GENERATED_DOCS.js | 
        │in /docs      │  ▲  │append to JS file  |   │   | JavaScript file  |     |(overwrite in /docs)|
        └──────────────┘  │  └───────────────────┘   │   └──────────────────┘     └────────────────────┘
                          │    loop until done       │
                          └──────────────────────────┘
        </div>

/<ins> **!** </ins>\ mind that DOCS_updater.html only captures the latest version of the markdown files 2-10 min after the last edits.  This must be the time GitHub requires to update the raw files on the server.

### Monitor_palette.html

<img src="https://raw.githubusercontent.com/RetroAppleJS/AppleII-IDE/main/res/palette.png" width=30% align=left />Color graphics on the Apple II rendered only 4 distinct colors in high-resolution (green, orange, violet, blue) as a result of a cheap but smart piece of discrete logic.  Surely, owners of monochrome green or amber monitors sometimes longed for some color, but the blurry and color-bleeding TV screen rendering was more like a gimmick compared to the razor-sharp image produced by a genuine monochrome apple monitor.

The emulator's display offers an easy switching capability to render color, black&white, green and amber as some graphics really look nicer in color or monochrome.  e.g. fonts rendered on a hires screen produce very disturbing color fringing artifacts, which make the letters unreadable in color mode; any monochrome setting is more appropriate in this case. 

This tool was made to test and assure the best image rendering approximation with these respective monitors.
It produces a Javascript snippet that seamlessly maps the Apple II colors to the different monochrome versions.  This snippet is located in [EMU_apple2video.js](https://github.com/RetroAppleJS/AppleII-IDE/blob/main/res/EMU_apple2video.js).

### Tab_ctrl_v*.html

This is a fully client-side tab controller that remembers the last clicked tab after a page reload, based on the URI fragment identifier.  e.g. www.example.com/index.html#tab1
Subsequent versions of this tab control show increasingly interesting capabilities and design options.

|         | pop-out<br>menu | sub-<br>menu | anima-<br>tion |
|:-------:|:------------:|:---------:|:-------------:|
| v0      | -            | -         | -            |
| v1      | YES          | -         | -            |
| v2      | YES          | YES       | -            |
| v3      | -            |           | YES          |

### PatternHGR.html

This tool is designed to demonstrate color encoding and dithering challenges that are typical to Apple II HGR graphics.  
Particularly detrimental to picture quality are the extreme color limitations (4 colors + black and white), a high-bit color switch ruling over an entire byte and the convolutional color encoding itself.
Classic dithering algorthms as we know, can't cope well with all the weird stuff that happens on pixel level.
The proposed approach here is to fiddle around with bit patterns that blend well together into a new color.
These new blends in turn are layed out on a color gamut, where we can further pick a balanced distribution of colors.




| bit7 | bit6 | bit5 | bit4 | bit3 | bit2 | bit1 | bit0 |
|:----:|:----:|:----:|:----:|:---:|:---:|:---:|----:|
| switch | even | odd | even | odd | even | odd | even |

* switch: 0 selects a pallette of green and violet, and 1 selects a pallet of orange and blue for all 7 visible pixels in bits 0-6
* convolutional logic

| <<left | even bit | right>> | | <<left | odd bit | right>> |
|:----:|:----:|:----:|:----:|:----:|:----:|:----:|
| 1 | 0 | 1 || 1 | 0 | 1 |
|   | 0 |  || 1 | 0 | 1 |

### ConverHGR.html

<img src="https://raw.githubusercontent.com/RetroAppleJS/AppleII-IDE/main/res/HGR_Venus.png" align=left width=30% />This handy tool converts the most common image file types to an Apple II HGR color bitmaps.  Dithering achieves a way to convert images from high color-depths to lower depths, but Apple II graphics require a special twist to gracefully overcome inherent 'Wozniackian' artifacts explained in *PatternHGR.html*.   Buttons and tuning sliders will help you model the most acceptable conversion.  For developers, the challenge will be to optimize conversion quality and speed, as this very algorithm will serve inside the webcam capture tool.

TODO: flow diagram

### Camera_capture.html

